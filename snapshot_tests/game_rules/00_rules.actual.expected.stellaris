should_abduct_pop {
    planet = {
        exists = owner
        owner = {
            is_hostile = root
        }

    }

    NAND = {
        has_citizenship_type = {
            type = citizenship_purge
            country = root
        }

        NOR = {
            has_purge_type = {
                type = purge_matrix
                country = root
            }

            has_purge_type = {
                country = root
                type = purge_processing
            }

            has_purge_type = {
                type = purge_labor_camps
                country = root
            }

            has_purge_type = {
                type = purge_necrophage
                country = root
            }

        }

    }

}

can_add_claim {
    hidden_trigger = {
        if = {
            always = yes
            limit = {
                root = {
                    NOT = {
                        is_country_type = default
                    }

                }

            }

        }

    }

    custom_tooltip = {
        fail_text = CANNOT_ADD_CLAIM_POLICY
        OR = {
            AND = {
                owner = {
                    is_gestalt = yes
                }

                exists = owner
            }

            AND = {
                exists = owner
                owner = {
                    any_war = {
                        any_attacker = {
                            is_same_value = prevprev
                        }

                        any_defender = {
                            is_same_value = root
                        }

                    }

                }

            }

            root = {
                has_policy_flag = unrestricted_wars
            }

        }

    }

    custom_tooltip = {
        fail_text = CANNOT_ADD_CLAIM_NOT_VALID_EMPIRE
        NAND = {
            owner = {
                NOR = {
                    is_country_type = default
                    is_country_type = fallen_empire
                    is_country_type = awakened_fallen_empire
                }

            }

            exists = owner
        }

    }

    custom_tooltip = {
        fail_text = CANNOT_ADD_CLAIM_DEVOURING_SWARM
        NAND = {
            root = {
                has_valid_civic = civic_hive_devouring_swarm
            }

            root = {
                is_lithoid_empire = no
            }

        }

    }

    custom_tooltip = {
        fail_text = CANNOT_ADD_CLAIM_DEVOURING_SWARM_LITHOID
        NAND = {
            root = {
                has_valid_civic = civic_hive_devouring_swarm
            }

            root = {
                is_lithoid_empire = yes
            }

        }

    }

    custom_tooltip = {
        fail_text = CANNOT_ADD_CLAIM_ASSIMILATOR
        NOT = {
            root = {
                has_valid_civic = civic_machine_assimilator
            }

        }

    }

    custom_tooltip = {
        NAND = {
            root = {
                has_valid_civic = civic_fanatic_purifiers
            }

            NOT = {
                owner = {
                    is_same_species = root
                }

            }

            exists = owner
        }

        fail_text = CANNOT_ADD_CLAIM_PURIFIERS
    }

    custom_tooltip = {
        NAND = {
            owner = {
                NOR = {
                    is_same_species = root
                    has_authority = auth_machine_intelligence
                    has_country_flag = synthetic_empire
                }

            }

            root = {
                has_valid_civic = civic_machine_terminator
            }

            exists = owner
        }

        fail_text = CANNOT_ADD_CLAIM_EXTERMINATOR
    }

    custom_tooltip = {
        fail_text = CANNOT_ADD_CLAIM_THEY_THREAT
        NAND = {
            owner = {
                OR = {
                    has_valid_civic = civic_hive_devouring_swarm
                    has_valid_civic = civic_fanatic_purifiers
                    has_valid_civic = civic_machine_terminator
                    has_valid_civic = civic_machine_assimilator
                }

            }

            root = {
                NOR = {
                    has_valid_civic = civic_hive_devouring_swarm
                    has_valid_civic = civic_fanatic_purifiers
                    has_valid_civic = civic_machine_terminator
                    has_valid_civic = civic_machine_assimilator
                }

            }

            exists = owner
        }

    }

}

is_valid_rival {
    custom_tooltip = {
        root = {
            OR = {
                AND = {
                    relative_power = {
                        value >= inferior
                        who = prev
                    }

                    relative_power = {
                        who = prev
                        value <= superior
                    }

                }

                prev = {
                    NOT = {
                        is_country_type = default
                    }

                }

            }

        }

        fail_text = INVALID_RIVAL_DESC
    }

}

can_get_claim_from_lost_system {
    custom_tooltip = {
        OR = {
            is_country_type = default
            is_country_type = fallen_empire
            is_country_type = awakened_fallen_empire
        }

        root = {
            OR = {
                is_country_type = default
                is_country_type = fallen_empire
                is_country_type = awakened_fallen_empire
            }

        }

        fail_text = CANNOT_ADD_CLAIM_NOT_VALID_EMPIRE
    }

    custom_tooltip = {
        fail_text = CANNOT_ADD_CLAIM_DEVOURING_SWARM
        NOT = {
            has_valid_civic = civic_hive_devouring_swarm
        }

    }

    custom_tooltip = {
        NOT = {
            has_valid_civic = civic_machine_assimilator
        }

        fail_text = CANNOT_ADD_CLAIM_ASSIMILATOR
    }

    custom_tooltip = {
        fail_text = CANNOT_ADD_CLAIM_PURIFIERS
        NAND = {
            has_valid_civic = civic_fanatic_purifiers
            NOT = {
                is_same_species = root
            }

        }

    }

    custom_tooltip = {
        NAND = {
            NOR = {
                is_same_species = root
                has_authority = auth_machine_intelligence
                has_country_flag = synthetic_empire
            }

            has_valid_civic = civic_machine_terminator
        }

        fail_text = CANNOT_ADD_CLAIM_EXTERMINATOR
    }

}

species_has_citizenship {
    has_citizenship_type = {
        country = root
        type = citizenship_full
    }

}

