dark_matter_expenditure_ships {
    category = ships
    weight = {
        modifier = {
            has_crisis_level = crisis_level_5
            NOT = {
                count_controlled_fleet = {
                    count >= 1
                    limit = {
                        is_ship_size = star_eater
                    }

                }

            }

            has_ascension_perk = ap_become_the_crisis
            factor = 10
        }

        weight = 0.1
    }

    resource = sr_dark_matter
    potential = {
        always = yes
    }

    desired_min = {
        modifier = {
            has_ascension_perk = ap_become_the_crisis
            add = 10000
            NOT = {
                count_controlled_fleet = {
                    limit = {
                        is_ship_size = star_eater
                    }

                    count >= 1
                }

            }

        }

        base = 0
    }

    type = expenditure
}

dark_matter_upkeep_edicts {
    weight = {
        base = 0.25
    }

    resource = sr_dark_matter
    category = edicts
    potential = {
        always = yes
    }

    type = upkeep
}

dark_matter_upkeep_planets {
    resource = sr_dark_matter
    potential = {
        always = yes
    }

    category = planets
    type = upkeep
    weight = {
        weight = 0.9
    }

}

dark_matter_expenditure_trade {
    category = trade
    potential = {
        always = yes
    }

    weight = {
        weight = 0.1
    }

    type = expenditure
    resource = sr_dark_matter
}

dark_matter_expenditure_megastructures {
    potential = {
        has_ascension_perk = ap_become_the_crisis
        has_crisis_level = crisis_level_5
    }

    type = expenditure
    resource = sr_dark_matter
    category = megastructures
    weight = {
        weight = 0.8
    }

    desired_min = {
        base = 0
        modifier = {
            add = 20000
            any_owned_megastructure = {
                is_upgrading = no
                is_megastructure_type = crisis_sphere_0
            }

        }

        modifier = {
            add = 30000
            any_owned_megastructure = {
                is_upgrading = no
                is_megastructure_type = crisis_sphere_1
            }

        }

        modifier = {
            add = 40000
            any_owned_megastructure = {
                is_megastructure_type = crisis_sphere_2
                is_upgrading = no
            }

        }

        modifier = {
            add = 50000
            any_owned_megastructure = {
                is_megastructure_type = crisis_sphere_3
                is_upgrading = no
            }

        }

    }

}

dark_matter_upkeep_ships {
    resource = sr_dark_matter
    weight = {
        weight = 0.1
    }

    type = upkeep
    potential = {
        always = yes
    }

    category = ships
}

dark_matter_expenditure_upgrade {
    weight = {
        base = 0.1
    }

    resource = sr_dark_matter
    category = ship_upgrades
    potential = {
        always = yes
    }

    type = expenditure
}

dark_matter_expenditure_planets {
    potential = {
        always = yes
    }

    weight = {
        weight = 0.2
    }

    type = expenditure
    category = planets
    resource = sr_dark_matter
}

