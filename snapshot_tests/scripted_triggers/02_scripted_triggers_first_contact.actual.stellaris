first_contact_handled {
    OR = {
        can_have_first_contact_site_with = from
        from = {
            OR = {
                has_country_flag = suppress_first_contact_comms
                can_have_first_contact_site_with = root
            }

        }

        has_country_flag = suppress_first_contact_comms
    }

}

is_planet_and_closer_to_than_prevprev {
    prev = {
        compare_distance = {
            further_object = prevprevprev
            closer_object = prev
        }

    }

    is_moon = no
    is_asteroid = no
    is_star = no
    is_artificial = no
}

first_contact_can_capture_ship {
    contact_country = {
        any_controlled_fleet = {
            first_contact_can_be_captured = yes
        }

    }

}

